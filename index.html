<!DOCTYPE html>
<html lang="en">
<head>
    <script>/*<![CDATA[*/window.zE || (function (e, t, s) { var n = window.zE = window.zEmbed = function () { n._.push(arguments) }, a = n.s = e.createElement(t), r = e.getElementsByTagName(t)[0]; n.set = function (e) { n.set._.push(e) }, n._ = [], n.set._ = [], a.async = true, a.setAttribute("charset", "utf-8"), a.src = "https://static.zdassets.com/ekr/asset_composer.js?key=" + s, n.t = +new Date, a.type = "text/javascript", r.parentNode.insertBefore(a, r) })(document, "script", "35efafaf-9bd0-4f75-8c65-0dffd8aa28eb");
    </script>
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-149661706-1"></script>
    <script>
            window.dataLayer = window.dataLayer || [];
        function gtag() { dataLayer.push(arguments); }
        gtag('js', new Date());

        gtag('config', 'UA-149661706-1');
    </script>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>WSD Demo App</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.4.9/angular.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.4.9/angular-sanitize.min.js"></script>

    <link rel="icon" href="https://sentient.io/img/favicon.ico" type="image/x-icon">
    <link rel="shortcut icon" href="https://sentient.io/img/favicon.ico" type="image/x-icon">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/css/bootstrap.min.css">
    <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">
    <link rel="stylesheet" href="css/style.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
    <script src="app.js"></script>
    <style>

    </style>
</head>

<body ng-app="wsdApp" ng-controller="wsdCtrl" ng-cloak>
    <div class="loading-container loading-topbar" ng-show="loadeer" id="loader">
        <div>
            <img width="200px" src="img/200323_v4-grey-semi-transparient.gif">
        </div>
    </div>
    <div class="container-fluid CF-support p0">
        <div class="container mt-5">
            <div class="row">
                <div class="col-sm-8">
                    <h4 class="title-sent">WSD Demo App</h4> <span class="tag"><em>DEMO</em></span>
                    <p class="mt-2"> This demo app provides the meaning(s) of a specific noun within the context of the entire sentence in English. Paste in a text blurb and search for a specific noun to understand its context within the text.
                    </p>
                </div>
                <div class="col-sm-4 text-right">
                    <div class="intro-btns">
                        <div>
                            <a href="https://platform.sentient.io/demoapps_detail#word_sense_disambiguation" target="_blank">
                                <button type="button" class="btn-outline"> More Info </button>
                            </a>
                        </div>
                        <div>

                            <a href="https://github.com/sentient-io/platform-demo_apps-wsd.git" target="_blank">
                                <button type="button" class="btn-solid"> Demo App Code </button>
                            </a>

                        </div>
                    </div>
                </div>
            </div>
            <div class="row  mt-2">
                <div class="col-xs-12 col-sm-6 ">
                    <h5 class="sub-head-height"><b>Step 1: </b> Type / paste text to be analysed</h5>
                    <div class="text-center left-container">
                        <div style="position: relative;">
                            <div class="error-msg" style="display:none;">
                                <span style="color:red;" id="text-error">Get start by put some text here</span>
                            </div>
                            <div class="text-box textarea-disabled">
                                <textarea style="resize: none"  placeholder="Put some text here to convert to speech.."
                                    id="textinput" name="textinput" ng-keyup="contentCount()"></textarea>
                                 <div id="textinputDiv" class="text-left" style="overflow: scroll; max-height: 328px;" ng-bind-html="htmlText">
                                 </div>

                            </div>
                            <div class="btm-responce input-text" style="display: block;color: gray;">
                                <div ng-show="!aftRes" class="col-xs-6 p0 text-left" id="count">
                                    <span>Characters : 0/5000</span>
                                </div>
                                <div ng-show="!aftRes" class="col-xs-6 p0 text-right" ng-click="textClear()">
                                    <span class="reset" style="color: gray;">Clear</span>
                                </div>
                                <div ng-show="aftRes" class="col-xs-8 p0 text-left"  style="text-align: right; color: #abc445">
                                    <span class="complete"><svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" preserveAspectRatio="xMidYMid meet" viewBox="0 0 600 600" width="30" height="30"><defs><path d="M307.68 485.46C310.24 477.28 311.66 472.73 311.95 471.82C361.23 314.3 465.1 178.81 604.4 90.32C606.72 88.84 618.34 81.45 639.26 68.16C614.89 72.67 601.36 75.18 598.65 75.68C457.28 101.88 340.54 195.21 283.81 326.52C246.72 282.58 203.2 244.97 154.23 214.63C153.73 214.32 151.28 212.8 146.86 210.05L74.56 351.83C80.93 353 84.47 353.65 85.17 353.78C167.52 368.74 243.2 411.7 298.27 474.68C299.52 476.11 302.66 479.71 307.68 485.46Z" id="d2hIXwUuYf"></path><path d="M449.83 259.89C483.47 325.51 482.1 404.91 445.6 469.13C411.85 528.46 351.35 568.67 283.79 576.66C237.39 582.15 191.48 572.56 150.95 548.93C47.75 488.71 12 354.95 71.26 250.74C105.01 191.42 165.52 151.2 233.07 143.21C273.19 138.47 312.98 145.06 349.21 162.22C361.55 155.95 374.36 150.53 387.49 145.8C386.94 145.48 382.55 142.92 382 142.6C335.41 115.44 282.58 104.41 229.23 110.72C151.55 119.91 82 166.12 43.17 234.37C-24.97 354.21 16.14 508.04 134.8 577.26C181.43 604.46 234.24 615.49 287.56 609.19C287.56 609.19 287.6 609.18 287.6 609.18C365.28 600 434.84 553.75 473.69 485.52C516.57 410.11 517.31 316.41 476.04 240.03C475.83 240.17 474.78 240.91 472.89 242.24C462.5 249.94 454.81 255.82 449.83 259.89Z" id="dH9pt8Pxx"></path></defs><g><g><g><g><use xlink:href="#d2hIXwUuYf" opacity="1" fill="#aac342" fill-opacity="1"></use><g><use xlink:href="#d2hIXwUuYf" opacity="1" fill-opacity="0" stroke="#000000" stroke-width="1" stroke-opacity="0"></use></g></g><g><use xlink:href="#dH9pt8Pxx" opacity="1" fill="#aac342" fill-opacity="1"></use><g><use xlink:href="#dH9pt8Pxx" opacity="1" fill-opacity="0" stroke="#000000" stroke-width="1" stroke-opacity="0"></use></g></g></g></g></g></svg> Analysis Complete</span>
                                </div>
                                 <div ng-show="aftRes" class="col-xs-4 p0 text-right" ng-click="editInput()">
                                    <span class="reset" style="color: gray;"> <i class="fa fa-pencil"></i> Edit</span>
                                </div>
                                
                            </div>

                        </div>
                    </div>
                </div>
                <div class="col-xs-12 col-sm-6">
                    <div class="col-xs-12 col-sm-9">
                        <h5 class="sub-head-height"><b>Step 2: </b> Type noun to be analysed from text</h5>
                        <div class="right-container">
                            <div class="input-group">
                                <input id="targetId" class="key-text" type="text" ng-keyup="contentCount()"
                                required>
                                <span class="highlight"></span>
                                <span class="bar"></span>
                                <label ng-show="!errorTrue" style="color: gray;background-color: white;">{{keywordBox}}</label>
                                <label style="color: red" ng-show="errorTrue">{{keywordBox}}</label>
                            </div>
                        </div>
                    </div>


                    <div class="col-xs-12 col-sm-3 p0">
                        <div class="around-btn">
                            <button ng-show="!showAnalysBtn || !keywrdBx" class="btn-analyse" style="background-color: #bdbbb7;
                            cursor: no-drop;"  disabled><span><span>Analyse </button>
                            <button ng-show="showAnalysBtn && keywrdBx" ng-click="analyzeString()" class="btn-analyse" ><span><span>Analyse </button>
                        </div>
                    </div>

                    <div class="col-xs-12 pR-0 output-session" style="display: block;" >
                        <label style="font-size: 12px;padding-left: 10px;color: red;">{{keywordErrormsg}}</label>
                        <div>
                            <div class="mt-2" ng-show="totalLenShow && !keywordErrormsg && totalLen>0">We found the noun
                                <span>
                                <b>'{{targetWord}}'</b></span> in {{totalLen}} places
                            </div>
                            <div class="mt-2" ng-show="totalLenShow && !keywordErrormsg && totalLen<1">Either <span>
                                <b>'{{targetWord}}'</b></span> is not a valid noun or it is not found within the text
                            </div>

                            <div class="around-panel" ng-repeat="res in wsdResArr">
                                <div class="mt-2 pb-2px" ng-style="{'background-color':'{{res.panelBox.bg}}',  'border-left':'{{res.panelBox.borlft}}'}">
                                    <p class="description-para" style="color: gray;" ng-bind-html="convertPtoHtml(res.paragraph, targetWord, res.panelBox.txtBgclr)"/></p>
                                    <h4 class="poss-text mt-2" ng-style="{color:'{{res.panelBox.txtBgclr}}'}">Possible meanings :</h4>
                                    <div class="mb-1" ng-repeat="socit in res.societyNames">
                                        <button class="accordion" ng-show="!list" ng-click="list=!list">
                                            <span>{{socit.societyName}}</span>
                                            <i class="down fa fa-play-circle" aria-hidden="true"></i>
                                        </button>                                   

                                        <button class="accordion active" ng-show="list" ng-click="list=!list">
                                            <span>{{socit.societyName}}</span>
                                            <i class="up fa fa-play-circle" aria-hidden="true"></i>
                                        </button>                                       
                                        <div>                                        
                                        </div>
                                        <div class="border"> 
                                        <div class="list-text" ng-show="list">
                                            <h5 style="padding-top: 5px;">Possible Parent Class Definitions:</h5>
                                            <div class="" ng-repeat="hyper in socit.hypernymsList">
                                                <h5 class="sub-titles" ng-style="{color:'{{res.panelBox.txtBgclr}}'}">{{$index+1}}. {{customiseString(hyper.hypernym_name)}}</h5>
                                                <p style="color: gray;">{{hyper.hypernym_definition}}</p>
                                            </div>
                                        </div>
                                    </div>
                                    </div>
                                    </div>
                                </div>
                            </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="row mt-2 pb-2 text-center">
            <h5></h5>
            <span class="back-to-home"><a><i class="fa fa-long-arrow-left" aria-hidden="true"></i><span> Back to All
                        Demo
                        Apps</span></a></span>
        </div>
    </div>   
</div>
    <footer>
        <section class="footer-section">
            <div>
                <p>
				Designed and built by <a href="https://www.sentient.io" target="_blank">Sentient.io</a> with the help of our contributors.
				</p>
                <p>
				App version: 1.0.0. Source code for app available
				<a href="https://github.com/sentient-io/platform-demo_apps-wsd.git" target="_blank">here</a>.
			</p>
            </div>
            <div class="footer-logo">
                <img src="img/sentient-logo.png" alt="">
            </div>
        </section>
    </footer>

    <div id="confirmation-modal" class="modal fade" role="dialog">
        <div class="modal-dialog">

            <!-- Modal content-->
            <div class="modal-content">
                <div class="modal-header border-buttomoNone">
                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                    <h4 class="modal-title modal-head">Warning</h4>
                </div>
                <div class="modal-body">
                    <p id="errorTxt"></p>
                </div>
                <div class="modal-footer border-topNone">
                    <button type="button" class="btn-solid" data-dismiss="modal">&nbsp; Close</button>
                </div>
            </div>

        </div>

</body>
<script>  
    var acc = document.getElementsByClassName("accordion");
    var i;
    for (i = 0; i < acc.length; i++) {
        acc[i].addEventListener("click", function () {
            this.classList.toggle("active");
            var panel = this.nextElementSibling;
            if (panel.style.display === "block") {
                panel.style.display = "none";
            } else {
                panel.style.display = "block";
            }
        });
    }

    // $('#textinput').keyup(function(){
    //     var textValue = $('#textinput').val();
    //     if(textValue !=""){
    //         $('.btn-analyse').removeClass('analyse-disable');
    //     }else{
    //         $('.btn-analyse').addClass('analyse-disable');
    //     }
    // });


    $(document).on("keydown","#textinput" ,function(evt){
        var firstChar = $("#textinput").val()
        if(evt.keyCode == 32 && firstChar == ""){
            return false;
        }
    });

    $(document).on("keydown","#targetId" ,function(evt){
        var tarChar = $("#targetId").val()
        if(evt.keyCode == 32 && tarChar == ""){
            return false;
        }
    });
    
</script>

</html>